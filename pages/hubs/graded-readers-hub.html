<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graded Readers Hub - Teacher Alex English Academy</title>
    
    <!-- CSS Base -->
    <link rel="stylesheet" href="../../src/styles/base.css">
    <link rel="stylesheet" href="../../src/styles/layout.css">
    <link rel="stylesheet" href="../../src/styles/theme-patriot.css">
    
    <style>
        /* Beautiful Styling usando ESTRUTURA EXISTENTE */
        
        /* Container com background lindo */
        .container {
            background: linear-gradient(135deg, var(--light-gray) 0%, var(--white-90) 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Header usando suas classes */
        .header {
            background: white;
            border-radius: var(--radius-large);
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-medium);
            text-align: center;
        }

        .hub-title {
            background: linear-gradient(45deg, var(--blue-dark), var(--blue-medium));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .hub-subtitle {
            color: var(--blue-gray);
            font-size: 1.2rem;
        }

        /* Level Section */
        .level-section {
            margin-bottom: 50px;
        }

        .level-header {
            background: white;
            border-radius: var(--radius-large);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .level-badge {
            background: linear-gradient(45deg, var(--blue-dark), var(--blue-medium));
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.1rem;
            white-space: nowrap;
            box-shadow: 0 4px 15px rgba(43, 76, 126, 0.3);
        }

        .level-title {
            color: var(--blue-dark);
            font-size: 1.8rem;
            margin: 0 0 8px 0;
        }

        .level-description {
            color: var(--blue-gray);
            font-size: 1.1rem;
            margin: 0;
        }

        /* Stories Grid */
        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .story-card {
            background: white;
            border-radius: var(--border-radius-large);
            padding: 25px;
            box-shadow: var(--shadow-medium);
            transition: var(--transition-smooth);
            cursor: pointer;
            position: relative;
            border: 1px solid var(--gray-200);
        }

        .story-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-heavy);
        }

        .story-card.coming-soon {
            opacity: 0.7;
            background: var(--gray-bg);
        }

        .story-card.coming-soon:hover {
            transform: translateY(-4px);
        }

        /* Story Content */
        .story-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .story-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .story-title {
            color: var(--blue-dark);
            font-size: 1.4rem;
            font-weight: 700;
            margin: 0 0 10px 0;
        }

        .story-description {
            color: var(--blue-gray);
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
        }

        .story-features {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .story-features li {
            padding: 8px 0;
            color: var(--dark);
            font-size: 0.95rem;
            position: relative;
            padding-left: 25px;
        }

        .story-features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--blue-medium);
            font-weight: bold;
        }

        /* Buttons usando suas classes */
        .story-button {
            width: 100%;
            background: linear-gradient(45deg, var(--blue-dark), var(--blue-medium));
            color: white;
            border: none;
            padding: 15px;
            border-radius: var(--border-radius-small);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            box-shadow: 0 4px 15px rgba(43, 76, 126, 0.3);
        }

        .story-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(43, 76, 126, 0.4);
        }

        .story-button:disabled {
            background: var(--light-gray);
            color: var(--blue-gray);
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Progress Badge */
        .progress-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--blue-medium);
            color: white;
            padding: 6px 12px;
            border-radius: var(--border-radius-small);
            font-size: 0.85rem;
            font-weight: 600;
        }

        /* Navigation */
        .back-button {
            background: white;
            color: var(--blue-dark);
            padding: 12px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            box-shadow: var(--shadow-light);
            transition: var(--transition-fast);
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .back-button:hover {
            background: var(--blue-dark);
            color: white;
            transform: translateX(-5px);
        }

        /* User Widget */
        .user-widget {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 12px 20px;
            border-radius: 25px;
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            background: linear-gradient(45deg, var(--blue-dark), var(--blue-medium));
            color: white;
            border-radius: var(--border-radius-round);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .user-name {
            color: var(--blue-dark);
            font-weight: 600;
        }

        .logout-btn {
            background: var(--error-red);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: var(--border-radius-small);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition-fast);
        }

        .logout-btn:hover {
            background: var(--secondary-red);
        }

        /* Footer */
        .footer {
            background: white;
            border-radius: var(--border-radius-large);
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow-medium);
            margin-top: 40px;
        }

        .footer h3 {
            color: var(--blue-dark);
            margin: 0 0 10px 0;
        }

        .footer p {
            color: var(--blue-gray);
            margin: 0;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .stories-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .level-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .hub-title {
                font-size: 2rem;
            }
            
            .user-widget {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- User Widget -->
    <div class="user-widget">
        <div class="user-avatar" id="userAvatar">A</div>
        <span class="user-name" id="userName">Aluno</span>
        <button class="logout-btn" onclick="logout()">Sair</button>
    </div>

    <div class="container">
        <!-- Back Navigation -->
        <a href="../../index.html" class="back-button">
            ‚Üê Voltar ao Dashboard
        </a>
        
        <!-- Header -->
        <header class="header">
            <h1 class="logo">Teacher Alex <span class="logo-highlight">English Academy</span></h1>
            <h2 class="hub-title">üìö Graded Readers Hub</h2>
            <p class="hub-subtitle">Hub organizado com hist√≥rias por n√≠vel para absor√ß√£o de vocabul√°rio</p>
        </header>

        <!-- A1 Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">A1 - Beginner</div>
                <div class="level-info">
                    <h2 class="level-title">N√≠vel Iniciante</h2>
                    <p class="level-description">Vocabul√°rio b√°sico e gram√°tica simples para come√ßar sua jornada no ingl√™s</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- The Roommate Problem - DISPON√çVEL -->
                <div class="story-card" onclick="navigateToStory('roommate')">
                    <div class="story-header">
                        <div class="story-icon">üè†</div>
                        <h3 class="story-title">The Roommate Problem</h3>
                        <p class="story-description">Sarah e Emma enfrentam problemas de conviv√™ncia que testam sua amizade</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>3 cap√≠tulos progressivos</li>
                            <li>Vocabul√°rio do dia a dia</li>
                            <li>Gram√°tica b√°sica essencial</li>
                            <li>√Åudio IA de alta qualidade</li>
                            <li>Sistema de badges motivador</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button">Come√ßar Hist√≥ria A1</button>
                    </div>
                    <div class="progress-badge" id="roommateProgress">‚úÖ Dispon√≠vel</div>
                </div>

                <!-- New Friends at School - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('New Friends at School')">
                    <div class="story-header">
                        <div class="story-icon">üåü</div>
                        <h3 class="story-title">New Friends at School</h3>
                        <p class="story-description">Uma hist√≥ria tocante sobre fazer novos amigos e superar a timidez</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>4 cap√≠tulos envolventes</li>
                            <li>Vocabul√°rio escolar b√°sico</li>
                            <li>Express√µes de amizade</li>
                            <li>√Åudio IA naturalizado</li>
                            <li>Situa√ß√µes do cotidiano</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- The Pizza Restaurant - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('The Pizza Restaurant')">
                    <div class="story-header">
                        <div class="story-icon">üçï</div>
                        <h3 class="story-title">The Pizza Restaurant</h3>
                        <p class="story-description">Aventuras e confus√µes divertidas em um restaurante familiar italiano</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>3 cap√≠tulos cheios de humor</li>
                            <li>Vocabul√°rio de comida</li>
                            <li>Situa√ß√µes pr√°ticas</li>
                            <li>√Åudio IA expressivo</li>
                            <li>Cultura italiana b√°sica</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- A2 Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">A2 - Elementary</div>
                <div class="level-info">
                    <h2 class="level-title">N√≠vel Elementar</h2>
                    <p class="level-description">Expans√£o vocabular e estruturas mais complexas para consolidar o aprendizado</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- The Secret in the Old House - DISPON√çVEL -->
                <div class="story-card" onclick="navigateToStory('secret-house')">
                    <div class="story-header">
                        <div class="story-icon">üèöÔ∏è</div>
                        <h3 class="story-title">The Secret in the Old House</h3>
                        <p class="story-description">Emma descobre mist√©rios fascinantes escondidos na casa antiga de sua vizinha</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>4 cap√≠tulos de mist√©rio</li>
                            <li>Vocabul√°rio intermedi√°rio</li>
                            <li>Gram√°tica A2 estruturada</li>
                            <li>√Åudio IA dramatizado</li>
                            <li>Narrativa cativante</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button">Come√ßar Hist√≥ria A2</button>
                    </div>
                    <div class="progress-badge" id="secretProgress">‚úÖ Dispon√≠vel</div>
                </div>

                <!-- The School Play - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('The School Play')">
                    <div class="story-header">
                        <div class="story-icon">üé≠</div>
                        <h3 class="story-title">The School Play</h3>
                        <p class="story-description">Drama e com√©dia nos bastidores de uma pe√ßa teatral escolar</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>5 cap√≠tulos dram√°ticos</li>
                            <li>Vocabul√°rio art√≠stico</li>
                            <li>Express√µes emotivas</li>
                            <li>√Åudio IA dramatizado</li>
                            <li>Cultura teatral b√°sica</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Summer Beach Adventure - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('Summer Beach Adventure')">
                    <div class="story-header">
                        <div class="story-icon">üåä</div>
                        <h3 class="story-title">Summer Beach Adventure</h3>
                        <p class="story-description">F√©rias de ver√£o cheias de aventura, descobertas e amizades</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>4 cap√≠tulos de aventura</li>
                            <li>Vocabul√°rio de viagem</li>
                            <li>Tempos verbais variados</li>
                            <li>√Åudio IA relaxante</li>
                            <li>Cultura americana</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- The Science Competition - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('The Science Competition')">
                    <div class="story-header">
                        <div class="story-icon">üî¨</div>
                        <h3 class="story-title">The Science Competition</h3>
                        <p class="story-description">Rivalidade saud√°vel e parceria inesperada em uma competi√ß√£o cient√≠fica</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>4 cap√≠tulos educativos</li>
                            <li>Vocabul√°rio cient√≠fico</li>
                            <li>Estruturas comparativas</li>
                            <li>√Åudio IA educativo</li>
                            <li>M√©todo cient√≠fico</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- B1 Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">B1 - Intermediate</div>
                <div class="level-info">
                    <h2 class="level-title">N√≠vel Intermedi√°rio</h2>
                    <p class="level-description">Para seus poucos alunos avan√ßados - prepara√ß√£o s√©ria para flu√™ncia</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- The Job Interview - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('The Job Interview')">
                    <div class="story-header">
                        <div class="story-icon">üíº</div>
                        <h3 class="story-title">The Job Interview</h3>
                        <p class="story-description">Prepara√ß√£o profissional intensa e desafios reais do mundo corporativo</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>5 cap√≠tulos profissionais</li>
                            <li>Vocabul√°rio corporativo</li>
                            <li>Gram√°tica B1 complexa</li>
                            <li>√Åudio IA profissional</li>
                            <li>Situa√ß√µes de trabalho</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Around the World - EM BREVE -->
                <div class="story-card coming-soon" onclick="showComingSoon('Around the World')">
                    <div class="story-header">
                        <div class="story-icon">üåç</div>
                        <h3 class="story-title">Around the World</h3>
                        <p class="story-description">Viagem cultural fascinante pelos continentes e suas tradi√ß√µes</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>6 cap√≠tulos globais</li>
                            <li>Vocabul√°rio cultural</li>
                            <li>Estruturas complexas</li>
                            <li>√Åudio IA multicultural</li>
                            <li>Geografia mundial</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="footer">
            <h3>üìö Graded Readers Hub</h3>
            <p>Hist√≥rias organizadas por n√≠vel para absor√ß√£o natural de vocabul√°rio</p>
        </footer>
    </div>

    <script>
        // ===== AUTH CHECK =====
        if (sessionStorage.getItem('studentLoggedIn') !== 'true') {
            window.location.href = '../auth/login.html';
        }

        // ===== INITIALIZATION =====
        const studentName = sessionStorage.getItem('studentUsername') || 'Student';
        
        // Update UI
        document.getElementById('userName').textContent = studentName;
        document.getElementById('userAvatar').textContent = studentName.charAt(0).toUpperCase();

        // ===== PROGRESS LOADING =====
        function loadProgress() {
            const progressKey = `progress_${studentName}`;
            const saved = localStorage.getItem(progressKey);
            
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    
                    // Roommate progress
                    const roommate = data.roommate || { chaptersCompleted: [] };
                    const roommateCompleted = roommate.chaptersCompleted.length;
                    
                    const roommateProgress = document.getElementById('roommateProgress');
                    if (roommateCompleted === 0) {
                        roommateProgress.textContent = '‚úÖ Dispon√≠vel';
                    } else if (roommateCompleted === 3) {
                        roommateProgress.textContent = 'üèÜ Completo';
                        roommateProgress.style.background = 'var(--success)';
                        roommateProgress.style.color = 'white';
                    } else {
                        roommateProgress.textContent = `${roommateCompleted}/3 ‚úì`;
                        roommateProgress.style.background = 'var(--success)';
                        roommateProgress.style.color = 'white';
                    }
                    
                    // Secret House progress
                    const reading = data.reading || { chaptersCompleted: [] };
                    const readingCompleted = reading.chaptersCompleted.length;
                    
                    const secretProgress = document.getElementById('secretProgress');
                    if (readingCompleted === 0) {
                        secretProgress.textContent = '‚úÖ Dispon√≠vel';
                    } else if (readingCompleted === 4) {
                        secretProgress.textContent = 'üèÜ Completo';
                        secretProgress.style.background = 'var(--success)';
                        secretProgress.style.color = 'white';
                    } else {
                        secretProgress.textContent = `${readingCompleted}/4 ‚úì`;
                        secretProgress.style.background = 'var(--success)';
                        secretProgress.style.color = 'white';
                    }
                    
                } catch (e) {
                    console.error('Erro ao carregar progresso:', e);
                }
            }
        }

        // ===== NAVIGATION =====
        function navigateToStory(storyId) {
            const card = event.currentTarget;
            const button = card.querySelector('.story-button');
            const originalText = button.textContent;
            
            // Loading state
            button.textContent = 'Carregando...';
            card.style.opacity = '0.7';
            
            setTimeout(() => {
                if (storyId === 'roommate') {
                    window.location.href = '../reading/graded/roommate-problem-story.html';
                } else if (storyId === 'secret-house') {
                    window.location.href = '../reading/graded/secret-house-story.html';
                }
            }, 500);
        }

        function showComingSoon(storyTitle) {
            const messages = [
                `üöÄ "${storyTitle}" est√° em desenvolvimento!`,
                `üìö Em breve teremos esta hist√≥ria incr√≠vel!`,
                `‚≠ê Continue praticando enquanto preparamos "${storyTitle}"!`,
                `üéØ Sua dedica√ß√£o ser√° recompensada quando "${storyTitle}" for lan√ßada!`
            ];
            alert(messages[Math.floor(Math.random() * messages.length)]);
        }

        // ===== LOGOUT =====
        function logout() {
            sessionStorage.clear();
            window.location.href = '../auth/login.html';
        }

        // ===== LOAD DATA =====
        loadProgress();
        
        console.log('üìö GRADED READERS HUB v3.0 BEAUTIFUL carregado!');
        console.log('üë§ Usu√°rio:', studentName);
        console.log('üéØ Navega√ß√£o: roommate + secret-house funcionando!');
    </script>
</body>
</html>
