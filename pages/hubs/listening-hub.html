<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listening Hub - Teacher Alex English Academy</title>
    
    <!-- CSS Universal - MESMO PADR√ÉO DOS OUTROS -->
    <link rel="stylesheet" href="../../src/styles/base.css">
    <link rel="stylesheet" href="../../src/styles/layout.css">
    <link rel="stylesheet" href="../../src/styles/theme-patriot.css">
</head>
<body>
    <!-- User Widget - MESMO PADR√ÉO -->
    <div class="user-widget">
        <div class="user-avatar" id="userAvatar">A</div>
        <span class="user-name" id="userName">Aluno</span>
        <button class="logout-btn" onclick="logout()">Sair</button>
    </div>

    <div class="container">
        <!-- Back Navigation - MESMO PADR√ÉO -->
        <a href="../../index.html" class="back-button">
            ‚Üê Voltar ao Dashboard
        </a>
        
        <!-- Header - MESMO PADR√ÉO DO GRADED-READERS -->
        <header class="header">
            <h1 class="logo">Teacher Alex <span class="logo-highlight">English Academy</span></h1>
            <h2 class="hub-title">üéß Listening Practice Hub</h2>
            <p class="hub-subtitle">Desenvolva sua compreens√£o auditiva com di√°logos aut√™nticos e progressivos</p>
        </header>

        <!-- Foundation Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">Foundation - A1</div>
                <div class="level-info">
                    <h2 class="level-title">Foundation Level</h2>
                    <p class="level-description">Base s√≥lida com vocabul√°rio essencial e estruturas fundamentais para construir confian√ßa auditiva</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- Foundation Audio -->
                <div class="story-card" onclick="navigateToStory('foundation')">
                    <div class="story-header">
                        <div class="story-icon">üëã</div>
                        <h3 class="story-title">Foundation Survival Kit</h3>
                        <p class="story-description">Primeiras apresenta√ß√µes e vocabul√°rio essencial</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Vocabul√°rio de sobreviv√™ncia</li>
                            <li>Frases de emerg√™ncia</li>
                            <li>Conversas b√°sicas do dia a dia</li>
                            <li>√Åudio IA de alta qualidade</li>
                            <li>Sistema de badges motivador</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button">Come√ßar Foundation</button>
                    </div>
                    <div class="progress-badge" id="foundationProgress">‚úÖ Dispon√≠vel</div>
                </div>

                <!-- Daily Essentials -->
                <div class="story-card coming-soon" onclick="showComingSoon('Daily Essentials')">
                    <div class="story-header">
                        <div class="story-icon">üè†</div>
                        <h3 class="story-title">Daily Essentials</h3>
                        <p class="story-description">Fam√≠lia, casa e rotina dom√©stica</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Membros da fam√≠lia</li>
                            <li>C√¥modos e objetos da casa</li>
                            <li>Rotina di√°ria b√°sica</li>
                            <li>√Åudio IA naturalizado</li>
                            <li>Situa√ß√µes do cotidiano</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Emergency English -->
                <div class="story-card coming-soon" onclick="showComingSoon('Emergency English')">
                    <div class="story-header">
                        <div class="story-icon">üö®</div>
                        <h3 class="story-title">Emergency English</h3>
                        <p class="story-description">Situa√ß√µes de emerg√™ncia e ajuda</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Pedindo ajuda e dire√ß√µes</li>
                            <li>Situa√ß√µes de emerg√™ncia</li>
                            <li>Frases de cortesia</li>
                            <li>√Åudio IA expressivo</li>
                            <li>Vocabul√°rio essencial</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Beginner Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">Beginner - A2</div>
                <div class="level-info">
                    <h2 class="level-title">Beginner Level</h2>
                    <p class="level-description">Expanda seu vocabul√°rio com di√°logos mais longos e situa√ß√µes cotidianas reais</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- Travel & Transport -->
                <div class="story-card coming-soon" onclick="showComingSoon('Travel & Transport')">
                    <div class="story-header">
                        <div class="story-icon">‚úàÔ∏è</div>
                        <h3 class="story-title">Travel & Transport</h3>
                        <p class="story-description">Viagens, aeroportos e transporte p√∫blico</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Check-in e aeroportos</li>
                            <li>Transporte p√∫blico</li>
                            <li>Hot√©is e reservas</li>
                            <li>√Åudio IA profissional</li>
                            <li>Situa√ß√µes pr√°ticas</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Food & Restaurants -->
                <div class="story-card coming-soon" onclick="showComingSoon('Food & Restaurants')">
                    <div class="story-header">
                        <div class="story-icon">üçΩÔ∏è</div>
                        <h3 class="story-title">Food & Restaurants</h3>
                        <p class="story-description">Restaurantes, pedidos e experi√™ncias gastron√¥micas</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Fazendo pedidos</li>
                            <li>Especialidades culin√°rias</li>
                            <li>Reclama√ß√µes e elogios</li>
                            <li>√Åudio IA naturalizado</li>
                            <li>Cultura gastron√¥mica</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Shopping & Services -->
                <div class="story-card coming-soon" onclick="showComingSoon('Shopping & Services')">
                    <div class="story-header">
                        <div class="story-icon">üõí</div>
                        <h3 class="story-title">Shopping & Services</h3>
                        <p class="story-description">Compras, servi√ßos e negocia√ß√µes</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Diferentes tipos de lojas</li>
                            <li>Negocia√ß√£o de pre√ßos</li>
                            <li>Devolu√ß√µes e trocas</li>
                            <li>√Åudio IA comercial</li>
                            <li>Situa√ß√µes reais</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Intermediate Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">Intermediate - B1</div>
                <div class="level-info">
                    <h2 class="level-title">Intermediate Level</h2>
                    <p class="level-description">Domine conversas complexas com m√∫ltiplos interlocutores e contextos variados</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- Work & Business -->
                <div class="story-card coming-soon" onclick="showComingSoon('Work & Business')">
                    <div class="story-header">
                        <div class="story-icon">üíº</div>
                        <h3 class="story-title">Work & Business</h3>
                        <p class="story-description">Ambiente profissional e entrevistas</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Entrevistas de emprego</li>
                            <li>Reuni√µes de trabalho</li>
                            <li>Apresenta√ß√µes profissionais</li>
                            <li>√Åudio IA corporativo</li>
                            <li>Vocabul√°rio t√©cnico</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Health & Services -->
                <div class="story-card coming-soon" onclick="showComingSoon('Health & Services')">
                    <div class="story-header">
                        <div class="story-icon">üè•</div>
                        <h3 class="story-title">Health & Services</h3>
                        <p class="story-description">Consultas m√©dicas e servi√ßos especializados</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Consultas m√©dicas detalhadas</li>
                            <li>Sintomas e tratamentos</li>
                            <li>Servi√ßos especializados</li>
                            <li>√Åudio IA m√©dico</li>
                            <li>Terminologia espec√≠fica</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Technology & Problems -->
                <div class="story-card coming-soon" onclick="showComingSoon('Technology & Problems')">
                    <div class="story-header">
                        <div class="story-icon">üíª</div>
                        <h3 class="story-title">Technology & Problems</h3>
                        <p class="story-description">Problemas tecnol√≥gicos e solu√ß√µes modernas</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Suporte t√©cnico avan√ßado</li>
                            <li>Gadgets e aplicativos</li>
                            <li>Solu√ß√µes criativas</li>
                            <li>√Åudio IA t√©cnico</li>
                            <li>Jarg√£o tecnol√≥gico</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced Level -->
        <section class="level-section">
            <div class="level-header">
                <div class="level-badge">Advanced - B2</div>
                <div class="level-info">
                    <h2 class="level-title">Advanced Level</h2>
                    <p class="level-description">Desafie-se com conte√∫do nativo, g√≠rias e express√µes complexas em situa√ß√µes profissionais</p>
                </div>
            </div>
            
            <div class="stories-grid">
                <!-- Real Estate & Moving -->
                <div class="story-card coming-soon" onclick="showComingSoon('Real Estate & Moving')">
                    <div class="story-header">
                        <div class="story-icon">üè†</div>
                        <h3 class="story-title">Real Estate & Moving</h3>
                        <p class="story-description">Mudan√ßas, im√≥veis e novos vizinhos</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Aluguel e compra de im√≥veis</li>
                            <li>Empresas de mudan√ßa</li>
                            <li>Integra√ß√£o em novos bairros</li>
                            <li>√Åudio IA nativo</li>
                            <li>Express√µes coloquiais</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>

                <!-- Culture & Events -->
                <div class="story-card coming-soon" onclick="showComingSoon('Culture & Events')">
                    <div class="story-header">
                        <div class="story-icon">üé≠</div>
                        <h3 class="story-title">Culture & Events</h3>
                        <p class="story-description">Eventos culturais, arte e tradi√ß√µes</p>
                    </div>
                    <div class="story-content">
                        <ul class="story-features">
                            <li>Festivais e celebra√ß√µes</li>
                            <li>Arte e express√µes culturais</li>
                            <li>Discuss√µes aprofundadas</li>
                            <li>√Åudio IA cultural</li>
                            <li>Nuances sociais</li>
                        </ul>
                    </div>
                    <div class="story-footer">
                        <button class="story-button" disabled>üöÄ Em Breve</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="footer">
            <h3>üéß Listening Practice Hub</h3>
            <p>Desenvolva sua compreens√£o auditiva com di√°logos aut√™nticos e progressivos</p>
        </footer>
    </div>

    <script>
        // ===== AUTH CHECK =====
        if (sessionStorage.getItem('studentLoggedIn') !== 'true') {
            window.location.href = '../auth/login.html';
        }

        // ===== INITIALIZATION =====
        const studentName = sessionStorage.getItem('studentUsername') || 'Student';
        
        // Update UI
        document.getElementById('userName').textContent = studentName;
        document.getElementById('userAvatar').textContent = studentName.charAt(0).toUpperCase();

        // ===== PROGRESS LOADING =====
        function loadProgress() {
            const progressKey = `progress_${studentName}`;
            const saved = localStorage.getItem(progressKey);
            
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    
                    // Foundation progress
                    const listening = data.listening || { lessonsCompleted: [] };
                    const foundationCompleted = listening.lessonsCompleted.filter(lesson => lesson.startsWith('foundation')).length;
                    
                    const foundationProgress = document.getElementById('foundationProgress');
                    if (foundationCompleted === 0) {
                        foundationProgress.textContent = '‚úÖ Dispon√≠vel';
                    } else {
                        foundationProgress.textContent = `${foundationCompleted} ‚úì`;
                        foundationProgress.style.background = 'var(--success)';
                        foundationProgress.style.color = 'white';
                    }
                    
                } catch (e) {
                    console.error('Erro ao carregar progresso:', e);
                }
            }
        }

        // ===== NAVIGATION =====
        function navigateToStory(storyId) {
            const card = event.currentTarget;
            const button = card.querySelector('.story-button');
            const originalText = button.textContent;
            
            // Loading state
            button.textContent = 'Carregando...';
            card.style.opacity = '0.7';
            
            setTimeout(() => {
                if (storyId === 'foundation') {
                    window.location.href = '../listening/foundation.html';
                }
            }, 500);
        }

        function showComingSoon(storyTitle) {
            const messages = [
                `üöÄ "${storyTitle}" est√° em desenvolvimento!`,
                `üéß Em breve teremos este listening incr√≠vel!`,
                `‚≠ê Continue praticando enquanto preparamos "${storyTitle}"!`,
                `üéØ Sua dedica√ß√£o ser√° recompensada quando "${storyTitle}" for lan√ßada!`
            ];
            alert(messages[Math.floor(Math.random() * messages.length)]);
        }

        // ===== LOGOUT =====
        function logout() {
            sessionStorage.clear();
            window.location.href = '../auth/login.html';
        }

        // ===== LOAD DATA =====
        loadProgress();
        
        console.log('üéß LISTENING HUB v3.0 - PADR√ÉO UNIVERSAL carregado!');
        console.log('üë§ Usu√°rio:', studentName);
        console.log('‚úÖ Visual CONSISTENTE com graded-readers-hub');
        console.log('üéØ Cores: theme-patriot.css universal');
        console.log('üìÅ Navega√ß√£o: ../listening/foundation.html funcionando');
    </script>
</body>
</html>
